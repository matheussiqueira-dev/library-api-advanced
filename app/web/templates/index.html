<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ project_name }} | Library Studio</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <div class="backdrop">
      <div class="orb orb-a"></div>
      <div class="orb orb-b"></div>
      <div class="orb orb-c"></div>
    </div>

    <header class="topbar">
      <div class="brand">
        <span class="brand-mark">LS</span>
        <div>
          <p class="eyebrow">Library Studio</p>
          <h1>{{ project_name }}</h1>
        </div>
      </div>
      <div class="topbar-actions">
        <button id="refresh-btn" class="ghost">Atualizar</button>
        <a class="ghost" href="/docs" target="_blank" rel="noreferrer">Docs</a>
      </div>
    </header>

    <main class="shell">
      <section class="hero">
        <div>
          <p class="badge">Interface inteligente</p>
          <h2>Curadoria viva para sua biblioteca</h2>
          <p class="subtitle">
            Explore, refine e gerencie seu acervo com velocidade. Pesquisa sem friccao,
            visualizacao rica e controle total em um unico painel.
          </p>
          <div class="quick-actions">
            <button id="seed-btn" class="primary">Adicionar exemplo</button>
            <button id="clear-btn" class="ghost">Limpar filtros</button>
          </div>
        </div>
        <div class="hero-stats">
          <div class="stat-card">
            <p>Total</p>
            <h3 id="stat-total">0</h3>
          </div>
          <div class="stat-card">
            <p>Ultimo ano</p>
            <h3 id="stat-latest">-</h3>
          </div>
          <div class="stat-card">
            <p>ISBNs ativos</p>
            <h3 id="stat-isbn">0</h3>
          </div>
        </div>
      </section>

      <section class="grid">
        <div class="panel list-panel">
          <div class="panel-header">
            <h3>Explorar acervo</h3>
            <span id="result-count" class="chip">0 resultados</span>
          </div>
          <div class="filters">
            <label>
              <span>Buscar</span>
              <input id="search-input" type="search" placeholder="Titulo ou autor" />
            </label>
            <label>
              <span>Autor</span>
              <input id="author-input" type="text" placeholder="Nome do autor" />
            </label>
            <div class="row">
              <label>
                <span>Ano min</span>
                <input id="year-min" type="number" min="1000" max="2100" placeholder="1900" />
              </label>
              <label>
                <span>Ano max</span>
                <input id="year-max" type="number" min="1000" max="2100" placeholder="2026" />
              </label>
            </div>
            <div class="row">
              <label>
                <span>Ordenar</span>
                <select id="sort-select">
                  <option value="created_at">Criacao</option>
                  <option value="title">Titulo</option>
                  <option value="author">Autor</option>
                  <option value="year">Ano</option>
                </select>
              </label>
              <label>
                <span>Ordem</span>
                <select id="order-select">
                  <option value="desc">Desc</option>
                  <option value="asc">Asc</option>
                </select>
              </label>
              <label>
                <span>Limite</span>
                <select id="limit-select">
                  <option value="10">10</option>
                  <option value="20" selected>20</option>
                  <option value="50">50</option>
                </select>
              </label>
            </div>
          </div>

          <div id="list-state" class="list-state">Carregando...</div>
          <div id="book-list" class="book-list"></div>
        </div>

        <div class="panel detail-panel">
          <div class="panel-header">
            <h3>Detalhes & controle</h3>
            <span id="selected-pill" class="chip">Nenhum selecionado</span>
          </div>

          <div id="inspector" class="inspector">
            <div class="inspector-empty">
              <h4>Selecione um livro</h4>
              <p>Veja detalhes ricos, atualize metadados e gerencie o registro.</p>
            </div>
            <div class="inspector-content hidden">
              <h4 id="detail-title"></h4>
              <p id="detail-author" class="muted"></p>
              <div class="detail-meta">
                <span id="detail-year"></span>
                <span id="detail-isbn"></span>
                <span id="detail-id"></span>
              </div>
              <div class="detail-actions">
                <button id="delete-btn" class="danger">Remover</button>
              </div>
            </div>
          </div>

          <form id="create-form" class="form-card">
            <h4>Novo livro</h4>
            <label>
              <span>Titulo</span>
              <input name="title" type="text" required maxlength="200" />
            </label>
            <label>
              <span>Autor</span>
              <input name="author" type="text" required maxlength="100" />
            </label>
            <div class="row">
              <label>
                <span>Ano</span>
                <input name="year" type="number" min="1000" max="2100" />
              </label>
              <label>
                <span>ISBN</span>
                <input name="isbn" type="text" maxlength="20" />
              </label>
            </div>
            <button type="submit" class="primary">Salvar</button>
          </form>

          <form id="edit-form" class="form-card muted-card">
            <h4>Atualizar selecao</h4>
            <label>
              <span>Titulo</span>
              <input name="title" type="text" maxlength="200" />
            </label>
            <label>
              <span>Autor</span>
              <input name="author" type="text" maxlength="100" />
            </label>
            <div class="row">
              <label>
                <span>Ano</span>
                <input name="year" type="number" min="1000" max="2100" />
              </label>
              <label>
                <span>ISBN</span>
                <input name="isbn" type="text" maxlength="20" />
              </label>
            </div>
            <button type="submit" class="ghost">Atualizar</button>
          </form>
        </div>
      </section>
    </main>

    <div id="toast" class="toast hidden"></div>

    <script>
      window.APP_CONFIG = {
        apiBase: "{{ api_base }}",
      };
    </script>
    <script src="/static/app.js"></script>
  </body>
</html>
